include test2.totem;

function whileLoop()
{
    print("While Loop");
    print("---");

    var $c = 10;

    while($c)
    {
        print($c);
        $c--;
    }

    print($c);
    assert($c == 0);

    print("---");
}

function doWhileLoop()
{
    print("Do While Loop");
    print("---");

    var $a = 20;
    var $numLoops = 0;

    do
    {
        print($a);
        $a--;
    }
    while($a);

    print($a);
    assert($a == 0);

    print("---");
}

function forLoop()
{
    print("For Loop");
    print("---");

    for(var $i = 0; $i < 30; $i++)
    {
        print($i);
    }

    assert($i == 30);

    print("---");
}

function ifBlock()
{
    print("If Block");
    print("---");
    var local $x = 0;

    if($x < 0)
    {
        print("Less Than");
    }
    else if($x > 0)
    {
        print("More Than");
    }
    else
    {
        print("Equals");
    }

    print("---");
}

function intFloat()
{
    print("Int Float Test");
    print("---");
    var $f = 1;
    print($f);

    var $b = $f + 0.5;
    print($b);

    assert($b == 1.5);

    var $c = 12.4;
    print($c);

    var $d = $c + 5;
    print($d);

    assert($d == 17.4);

    print("---");
}

function nullTest()
{
    print("Null Test");
    print("---");
    var $g = null;
    print($g);

    assert($g == null);

    print("---");
}

function test()
{
    nullBoolTest();
	shiftTest();
    objectTest();
    dataTypeTest();
    moveToLocalTest();
    includeTest(1 + 2);
    constTest();
    arrayTest();
    stringTest();
    whileLoop();
    doWhileLoop();
    forLoop();
    ifBlock();
    intFloat();
    nullTest();
    funcPointerTest();
    coroutineTest();
    userDataTest();

    localTest();
    print($y);

    refCycleTest();
    collectGC();
}

test();